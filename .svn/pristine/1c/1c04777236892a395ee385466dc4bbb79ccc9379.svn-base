@extends('admin.layout.erp1')
@section('banner')
<div class="col-lg-12" align="center" style="background-color:#ffcf29">
<img src="{{ URL::to('/') }}/new_heading.png" class="img-responsive">
</div>
@endsection

@section('sidebar')
@include('admin.partial.header')
@include('admin.partial.aside')
@endsection

@section('body')
<div class="bg-light lter b-b wrapper-md">
<h1 class="m-n font-normal h3">TCN Transfer Form</h1>
</div>
<div class="wrapper-md" ng-controller="FormDemoCtrl">
  <form role="form" method="post" action="{{URL::to('/')}}/admin/tcnTransfer" enctype="multipart/form-data" id="form" data-parsley-validate>
    {{ csrf_field() }}
    <!--************************************            ***************************

                         NOMINEE TRANSFER TO MEMBER 

    ***************************************** MEMBER DETAILS  ************************-->
    <input type="hidden" id="oldMember" name="oldMember" value="{{ $members->id }}">
    <input type="hidden" id="oldTcn" name="oldTcn" value="{{ $tcnrequests->id }}">

      <div class="panel panel-default">
        <div class="panel-heading font-bold">Member Personal Details</div>
        <div class="panel-body">
          <div class="row">
            <div class="col-sm-4">
              <div class="form-group">
                <label>Full Name<span style="color:red;">*</span> (as per Bank Record)</label>
                <input type="text" class="form-control" placeholder="Full Name" id="fullname" name="fullname" value="{{ old('fullname') }}{{ $nominees->name }}"  required data-parsley-required-message="Please Enter Full Name">
                @if ($errors->has('fullname'))
                  <span class="help-inline">{{$errors->first('fullname')}}</span>
                @endif
              </div>
            </div>
            <div class="col-sm-4">
              <div class="form-group">
                <label>Father's Name/Husband's Name<span style="color:red;">*</span></label>
                <input type="text" class="form-control" placeholder="Father's Name/Husband's Name" id="guardian" name="guardian" value="{{ old('guardian')}}" required data-parsley-required-message="Please Enter Guardians Name">
                @if ($errors->has('guardian'))
                  <span class="help-inline">{{$errors->first('guardian')}}</span>
                @endif
              </div>
            </div>
            <div class="col-sm-4">
              <div class="form-group">
                <label>Date of Birth<span style="color:red;">*</span></label>
                <input type='text' name="dateofbirth" id="dateofbirth" readonly  class="form-control"  value="{{ date('d-m-Y',strtotime($nominees->dob)) }}"/>
                <div id="dateerror" style="color:red;"></div>
                @if ($errors->has('dateofbirth'))
                  <span class="help-inline">{{$errors->first('dateofbirth')}}</span>
                @endif
              </div>
            </div>
          </div>

          <div class="row">  
            <div class="col-sm-4">
              <label>Gender<span style="color:red;">*</span></label>
              <select class="form-control chosen-select" id="gender" name="gender" required data-parsley-required-message="Please Enter Gender">
                <option value="">Select</option>
                <option value="Male" {{ (old('gender')=='Male')?'selected':'' }} @if($nominees->gender=='Male'){{ 'selected'}}@endif>Male</option>
                <option value="Female" {{ (old('gender')=='Female')?'selected':'' }} @if($nominees->gender=='Female'){{ 'selected'}}@endif>Female</option>
              </select>
                @if ($errors->has('gender'))
                  <span class="help-inline">{{$errors->first('gender')}}</span>
                @endif
            </div>
            <div class="col-sm-4">
              <label>Religion</label>
              <input type="text" name="religion" id="religion" readonly class="form-control" value="Islam">
              @if ($errors->has('religion'))
                <span class="help-inline">{{$errors->first('religion')}}</span>
              @endif
            </div>
            <div class="col-sm-4">
              <div class="form-group">
                <label>Caste</label>
                <select  class="form-control chosen-select" id="caste" name="caste" >
                  <option value="">Select</option>
                  @foreach ($listTypes['caste'] as $caste)
                  <option value="{{$caste}}" {{ (old('caste')==$caste)?'selected':'' }}{{ ($members->caste==$caste)?'selected':'' }}>{{$caste}}</option>
                  @endforeach
                </select>
                @if ($errors->has('caste'))
                  <span class="help-inline">{{$errors->first('caste')}}</span>
                @endif
              </div>
            </div>
          </div>

          <div class="row">  
            <div class="col-sm-4">
              <div class="form-group">
                <label>Nationality<span style="color:red;">*</span></label>
                <input type="hidden" name="zip_code" id="zip_code" value="AUTO">
                <select  class="form-control chosen-select" name="country" id="country" required data-parsley-required-message="Please Select Country" onchange="countryId()">
                  <option value="">Select</option>
                  @foreach ($listTypes['country'] as $country)
                  <option value="{{$country->id}}" {{ (old('country')==$country)?'selected':'' }}>{{$country->countryName}}</option>
                  @endforeach
                </select>
                @if ($errors->has('country'))
                  <span class="help-inline">{{$errors->first('country')}}</span>
                @endif
              </div>
            </div>
            <div class="col-sm-4">
              <div class="form-group">
                <label>Education</label>
                <select class="form-control chosen-select" id="education" name="education">
                  <option value="">Select</option>
                  @foreach ($listTypes['education'] as $education)
                  <option value="{{$education}}" {{ (old('education')==$education)?'selected':'' }}>{{$education}}</option>
                  @endforeach
                </select>
                @if ($errors->has('education'))
                  <span class="help-inline">{{$errors->first('education')}}</span>
                @endif
              </div>
            </div>
            <div class="col-sm-4">
              <div class="form-group">
                <label>Occupation</label>
                <select  class="form-control chosen-select" id="occupation" name="occupation">
                  <option value="">Select</option>
                  @foreach ($listTypes['occupation'] as $occupation)
                  <option value="{{$occupation}}" {{ (old('occupation')==$occupation)?'selected':'' }}>{{$occupation}}</option>
                  @endforeach
                </select>
                @if ($errors->has('occupation'))
                  <span class="help-inline">{{$errors->first('occupation')}}</span>
                @endif
              </div>
            </div>
          </div>
          
          <div class="row">  
            <div class="col-sm-4">
              <div class="form-group">
                <label>Income<span style="color:red;">*</span></label>  
                <div class="input-group m-b"> 
                  <div class="input-group-btn dropdown">
                    <select class="btn btn-default chosen-select" id="incomeid" name="incomeid" required>
                      <option value="">--Select--</option>
                      <option value="INR" {{ (old('incomeid')=='INR')?'selected':'' }}>INR</option>
                      <option value="AED" {{ (old('incomeid')=='AED')?'selected':'' }}>AED</option>
                      <option value="USD" {{ (old('incomeid')=='USD')?'selected':'' }}>USD</option>
                      <option value="SAR" {{ (old('incomeid')=='SAR')?'selected':'' }}>SAR</option>
                      <option value="CAD" {{ (old('incomeid')=='CAD')?'selected':'' }}>CAD</option>
                    </select>
                  </div>
                  <input type="text" placeholder="Income" id="income" name="income" value="{{ old('income') }}" class="form-control" required  data-parsley-trigger="keyup" data-parsley-type="number" data-parsley-min="1">
                  @if ($errors->has('income'))
                    <span class="help-inline">{{$errors->first('income')}}</span>
                  @endif
                </div>
              </div>
            </div>
            <div class="col-sm-4">
              <div class="form-group">
                <label>Marital status<span style="color:red;">*</span></label>
                <select  class="form-control chosen-select" id="marital" name="marital" required data-parsley-required-message="Please Select Marital status" >
                  <option value="">Select</option>
                  <option value="Single" {{ (old('marital')=='Single')?'selected':'' }}>Single</option>
                  <option value="Married" {{ (old('marital')=='Married')?'selected':'' }}>Married</option>
                  <option value="Divorced" {{ (old('marital')=='Divorced')?'selected':'' }}>Divorced</option>
                  <option value="Widowed" {{ (old('marital')=='Widowed')?'selected':'' }}>Widowed</option>
                </select>
                @if ($errors->has('marital'))
                  <span class="help-inline">{{$errors->first('marital')}}</span>
                @endif
              </div>
            </div>
            <div class="col-sm-4">
              <div class="form-group">
                <label>No of Children</label>
                <input type="text" class="form-control" data-parsley-type="number" data-parsley-trigger="keyup" placeholder="No of Children" id="childrens" name="childrens" value="{{ old('childrens') }}">
                @if ($errors->has('childrens'))
                  <span class="help-inline">{{$errors->first('childrens')}}</span>
                @endif
              </div>
            </div>
          </div>
          

            <div class="col-sm-12"></div>
          <div class="row">  
            <div class="col-sm-4">
              <div class="form-group">
                <label id="mobile_prefix">Mobile No <span style="color:red;">*</span></label>
                <div class="input-group m-b">
                  <span class="input-group-addon conId"> </span>
                  <input type="hidden" id="conId1" name="conId1" class="conId1" vlaue="">
                  <input type="text" class="form-control" placeholder="Mobile No" id="mobileno" name="mobileno" value="{{old('mobileno')}}{{ $nominees->mobile }}" required data-parsley-maxlength="16" data-parsley-minlength="1" data-parsley-minlength-message="Please enter valid phone no" data-parsley-maxlength-message="Please enter valid phone no" data-parsley-type="integer" data-parsley-trigger="keyup" >
                  @if ($errors->has('mobileno'))
                    <span class="help-inline">{{($errors->first('mobileno')=='validation.phone')?'Not a valid Mobile Number':$errors->first('mobileno')}}</span>
                  @endif
                </div>
              </div>  
            </div>
            <div class="col-sm-4">
              <div class="form-group">
                <label id="land_prefix">Landline No</label>
                <input type="text" class="form-control" placeholder="Landline No" data-parsley-type="integer" data-parsley-maxlength="16" data-parsley-trigger="keyup" id="landlineno" name="landlineno" value="{{old('landlineno')}}{{ $members->LandlineNo }}">
              </div>
            </div>
            <div class="col-sm-4">
              <div class="form-group">
                <label>Email<span style="color:red;">*</span></label>
                <input type="email" data-parsley-trigger="change" required class="form-control" placeholder="Email" id="email" name="email" value="{{old('email')}}{{ $nominees->email }}" data-parsley-required-message="Please enter email" data-parsley-type="email" data-parsley-type-message="Please enter valid email">
                @if ($errors->has('email'))
                  <span class="help-inline">{{$errors->first('email')}}</span>
                @endif
              </div>
            </div>
          </div>
          
          <div class="row">  
            <div class="col-sm-12"></div>
            <div class="col-sm-4">
              <div class="form-group">
                <label>How Do You Know About Heera Group<span style="color:red;">*</span></label>
                <textarea type="text" class="form-control" placeholder="How Do You Know About Heera Group" required name="aboutheera" id="aboutheera">{{ $members->aboutHeera }}</textarea>
              </div>
            </div>

          <div class="col-sm-4">
            <div class="form-group">
              <label>Type of proof<span style="color:red;">*</span></label>
              <select  class="form-control chosen-select" id="type_of_proof" name="type_of_proof" required data-parsley-required-message="Please Select Proof">
                <option value="">Select</option>
                @foreach ($listTypes['proof_type'] as $proof_type)
                <option value="{{$proof_type}}" @if($proofs->typeOfProof==$proof_type){{'selected' }}@endif{{ (old('type_of_proof')==$proof_type)?'selected':'' }}>{{ucfirst($proof_type)}}</option>
                @endforeach
              </select>
              @if ($errors->has('type_of_proof'))
                <span class="help-inline">{{$errors->first('type_of_proof')}}</span>
              @endif
            </div>
          </div>
          <div class="col-sm-4">
            <div class="form-group">
              <label>ID Number<span style="color:red;">*</span></label>
              <input type="text" class="form-control" required placeholder="ID Number" id="proof_number" name="proof_number" value="{{ old('proof_number') }}{{ $proofs->proofNumber }}">
              @if ($errors->has('proof_number'))
                <span class="help-inline">{{$errors->first('proof_number')}}</span>
              @endif
            </div>
          </div>


          </div>  
          </div>
      </div>
    <!--************************************          ************************************

                         MEMBER ADDRESSES 

    ********************************************************************************************-->
      <div class="row">  
        <div class="col-sm-4">
          <div class="panel panel-default">
            <div class="panel-heading font-bold">Permanent Address</div>
            <div class="panel-body">
              <div class="form-group">
                <label>Address<span style="color:red;">*</span></label>
                <textarea type="text" class="form-control" required  data-parsley-required-message="Please enter address" data-parsley-trigger="keyup" placeholder="Address" id="permanent_addr" name="permanent_addr">{{ old('permanent_addr') }}{{ $address2->address }}</textarea>
                @if ($errors->has('permanent_addr'))
                  <span class="help-inline">{{$errors->first('permanent_addr')}}</span>
                @endif
              </div>
              <div class="form-group">
                <label>City<span style="color:red;">*</span></label>
                <input type="text" class="form-control" placeholder="City" id="permanent_city" required data-parsley-required-message="Please enter city"  name="permanent_city" value="{{ old('permanent_city') }}{{ $address2->city }}">
                @if ($errors->has('permanent_city'))
                  <span class="help-inline">{{$errors->first('permanent_city')}}</span>
                @endif
              </div>
              <div class="form-group">
                <label>State<span style="color:red;">*</span></label>
                <input type="text" class="form-control" placeholder="State" id="permanent_state" required data-parsley-trigger="blur" data-parsley-required-message="Please enter state" data-parsley-pattern="^[A-Za-z]*$" name="permanent_state" value="{{ old('permanent_state') }}{{ $address2->state }}">
                @if ($errors->has('permanent_state'))
                  <span class="help-inline">{{$errors->first('permanent_state')}}</span>
                @endif
              </div>
              <div class="form-group">
                <label>Country<span style="color:red;">*</span></label>
                <select  class="form-control chosen-select" name="permanent_country" id="permanent_country" required data-parsley-required-message="Please Select Country">
                  <option value="">Select</option>
                  @foreach ($listTypes['country'] as $country)
                  <option value="{{$country->id}}"  {{ (old('permanent_country')==$country)?'selected':'' }}>{{$country->countryName}}</option>
                  @endforeach
                </select>
              </div>
              <div class="form-group">
                <label>Pin<span style="color:red;">*</span></label>
                <input type="text" class="form-control" placeholder="Pin" data-parsley-trigger="keyup" required data-parsley-maxlength="6" data-parsley-minlength="4" data-parsley-type="integer" data-parsley-minlength-message="Please enter valid pin" id="permanent_pin" name="permanent_pin" value="{{ old('permanent_pin') }}{{ $address2->pin }}">
                @if ($errors->has('permanent_pin'))
                 <span class="help-inline">{{$errors->first('permanent_pin')}}</span>
                @endif
              </div>
            </div>
          </div>
      </div>

      <div class="col-sm-4">
        <div class="panel panel-default" id="CorsAdrDiv">
          <div class="panel-heading font-bold">correspondence Address  
          </div>
          <div class="panel-body">
            <div class="form-group">
              <label>Address<span style="color:red;">*</span><span style="font-size: 8px;" class="perm_adrs">SAME AS PERMANENT ADDRESS  
            <label class="checkbox-inline i-checks">
            <input type="checkbox" name="Address" id="Address" onclick="address()"><i style="margin-top: -10px;"></i></label></span></label>
              <textarea type="text" class="form-control" required placeholder="Address" id="correspondance_addr" name="correspondance_addr">{{ old('correspondance_addr') }}</textarea>
              @if ($errors->has('correspondance_addr'))
              <span class="help-inline">{{$errors->first('correspondance_addr')}}</span>
              @endif
            </div>
            <div class="form-group">
              <label>City<span style="color:red;">*</span></label>
              <input type="text" class="form-control" placeholder="City" required id="correspondance_city" name="correspondance_city" value="{{ old('correspondance_city') }}">
              @if ($errors->has('correspondance_city'))
              <span class="help-inline">{{$errors->first('correspondance_city')}}</span>
              @endif
            </div>
            <div class="form-group">
              <label>State<span style="color:red;">*</span></label>
              <input type="text" class="form-control" placeholder="State" required data-parsley-pattern="^[A-Za-z]*$" data-parsley-trigger="keyup" id="correspondance_state" name="correspondance_state" value="{{ old('correspondance_state') }}">
              @if ($errors->has('correspondance_state'))
                <span class="help-inline">{{$errors->first('correspondance_state')}}</span>
              @endif
            </div>
            <div class="form-group">
              <label>Country<span style="color:red;">*</span></label>
              <select  class="form-control chosen-select" name="correspondance_country" id="correspondance_country" required data-parsley-required-message="Please Select Country">
                <option value="">Select</option>
                @foreach ($listTypes['country'] as $country)
                <option value="{{$country->id}}" zip-code="{{$country->countryCode}}" phone-code="{{$country->countryId}}" {{ (old('correspondance_country')==$country)?'selected':'' }}>{{$country->countryName}}</option>
                @endforeach
              </select>
            </div>
            <div class="form-group">
              <label>Pin<span style="color:red;">*</span></label>
              <input type="text" id="correspondance_pin" name="correspondance_pin" class="form-control" required data-parsley-maxlength="6" data-parsley-minlength="4" data-parsley-minlength-message="Please enter valid pin" data-parsley-trigger="keyup" placeholder="Pin" data-parsley-type="integer"  value="{{ old('correspondance_pin') }}">
              @if ($errors->has('correspondance_pin'))
                <span class="help-inline">{{$errors->first('correspondance_pin')}}</span>
              @endif
            </div>
          </div>
        </div>
      </div>

      <div class="col-sm-4">
        <div class="panel panel-default">
          <div class="panel-heading font-bold">Official Address</div>
          <div class="panel-body">
            <div class="form-group">
              <label>Address</label>
              <textarea  class="form-control" placeholder="Address" id="official_addr" name="official_addr">{{ old('official_addr') }}</textarea>
            </div>
            <div class="form-group">
              <label>City</label>
              <input type="text" class="form-control" placeholder="City" id="official_city" name="official_city" value="{{ old('official_city') }}">
            </div>
            <div class="form-group">
              <label>State</label>
              <input type="text" class="form-control" placeholder="State" id="official_state" data-parsley-pattern="^[A-Za-z]*$" data-parsley-trigger="keyup" name="official_state" value="{{ old('official_state') }}">
            </div>
            <div class="form-group">
              <label>Country</label>
              <select  class="form-control chosen-select" name="official_country" id="official_country">
              <option value="">Select</option>
              @foreach ($listTypes['country'] as $country)
              <option value="{{$country->id}}" zip-code="{{$country->countryCode}}" phone-code="{{$country->countryId}}" {{ (old('official_country')==$country)?'selected':'' }}>{{$country->countryName}}</option>
              @endforeach
              </select>
            </div>
            <div class="form-group">
              <label>Pin</label>
              <input type="text" class="form-control" data-parsley-maxlength="6" data-parsley-minlength="4" data-parsley-minlength-message="Please enter valid pin" data-parsley-trigger="keyup" placeholder="Pin" id="official_pin" name="official_pin" data-parsley-type="integer" value="{{ old('official_pin') }}">
            </div>
          </div>
        </div>
      </div>
    </div>
    <!--************************************          ************************************

                         MEMBER PROOF 

    ********************************************************************************************-->
      <div class="panel panel-default">
        <div class="panel-heading font-bold">Member Images/Proof</div>
        <div class="panel-body">
        <div class="row">

            <div class="col-sm-4">
              <div class="form-group">
                <input type="hidden" name="profilepic1" value="{{$nominees->uploadPhoto}}"> 
                <img src="{{URL::to('/') }}/storage/img/nominee/{{$nominees->uploadPhoto}}" style="width: 150px;height: 150px" />
                <label>Upload Photo (<span style="color:red;">*</span>.jpg,.jpeg,.png)</label>
                <input type="file" class="btn btn-success btn-fil" id="profilepic" name="profilepic" accept="image/png,image/jpeg" onchange="imageCheck(this)">
                <span class="profilepic  text-danger"></span> 
                @if ($errors->has('profilepic'))
                  <span class="help-inline">{{$errors->first('profilepic')}}</span>
                @endif
              </div>
            </div>
            <div class="col-sm-4">
              <div class="form-group" style="float:left;">
                <input type="hidden" name="signature1" value="{{$nominees->signature1}}"> 
                <img src="{{URL::to('/') }}/storage/img/nominee/{{$nominees->signature}}" style="width: 150px;height: 150px" />
                <label>Upload Signature (<span style="color:red;">*</span>.jpg,.jpeg,.png)</label>
                <input type="file" class="btn btn-success btn-fil" id="signature" name="signature" accept="image/png,image/jpeg" onchange="imageCheck(this)">
                <span class="signature  text-danger"></span> 
                @if ($errors->has('signature'))
                <span class="help-inline">{{$errors->first('signature')}}</span>
                @endif
              </div>
            </div>

          <div class="col-sm-4">
            <div class="form-group">
              <input type="hidden" name="proof_file1" value="{{$proofs->file}}">  
              <img src="{{URL::to('/') }}/storage/img/proof/{{$proofs->file}}" style="width: 150px;height: 150px" />
              <label>Proof file (<span style="color:red;">*</span>.jpg,.jpeg,.png)</label>
              <input type="file" class="btn btn-success btn-fil" placeholder="Proof File" id="proof_file" name="proof_file" onchange="imageCheck(this)">
              <span class="proof_file  text-danger"></span> 
              @if ($errors->has('proof_file'))
                <span class="help-inline">{{$errors->first('proof_file')}}</span>
              @endif
            </div>
          </div>
          <div class="col-sm-6">
            
          </div>
          </div>
        </div>
      </div>
    <!--************************************          ************************************

                         TCN PAYMENT DETAILS 

    ********************************************************************************************-->
    <div class="panel panel-default">
      <div class="panel-heading font-bold">TCN PAYMENT DETAILS</div>
      <div class="panel-body">
        <div class="row">
          <div class="col-lg-5">
            <div class="row">
            <div class="col-lg-7">Currency Type</div>
            <div class="col-lg-5 font-bold">{{$tcnrequests->currencyType}}</div>
            </div>
          </div>
          <div class="col-lg-7">
            <div class="row">
            <div class="col-lg-6">Applying From</div>
            <div class="col-lg-6 font-bold">{{$countrys->countryName}}</div>
            </div>
          </div>
        </div><div class="col-lg-12">&nbsp;</div>

        <div class="row">
          <div class="col-lg-5">
            <div class="row">
            <div class="col-lg-7">Unit</div>
            <div class="col-lg-5 font-bold">{{$tcnrequests->unit}}</div>
            </div>
          </div>
          <div class="col-lg-7">
            <div class="row">
            <div class="col-lg-6">Deposit Date</div>
            <div class="col-lg-6 font-bold">{{date('d-m-Y',strtotime($tcnrequests->depositeDate))}}</div>
            </div>
          </div>
        </div><div class="col-lg-12">&nbsp;</div>

        <div class="row">
          <div class="col-lg-5">
            <div class="row">
            <div class="col-lg-7">Payment&nbsp;Mode</div>
            <div class="col-lg-5 font-bold">{{$tcnrequests->paymentMode}}</div>
            </div>
          </div>
          <div class="col-lg-7">
            <div class="row">
            <div class="col-lg-6">Transaction No</div>
            <div class="col-lg-6 font-bold">{{$tcnrequests->transactionNumber}}</div>
            </div>
          </div>
        </div><div class="col-lg-12">&nbsp;</div>

        <div class="row">
          <div class="col-lg-5">
            <div class="row">
            <div class="col-lg-7">Amount</div>
            <div class="col-lg-5 font-bold">{{$tcnrequests->amount}}</div>
            </div>
          </div>
          <div class="col-lg-7">
            <div class="row">
            <div class="col-lg-6">Heera Account No</div>
            <div class="col-lg-6 font-bold">{{$tcnrequests->heeraaccount->accountNumber}}</div>
            </div>
          </div>
        </div><div class="col-lg-12">&nbsp;</div>
      </div>
    </div>

    <!--************************************          ************************************

                        TCN BENEFIT REMITTANCE 

    ********************************************************************************************-->

    <div class="panel panel-default">
      <div class="panel-heading font-bold">BENEFIT REMITTANCE</div>
      <div class="panel-body">
    <div class="row">
      <div class="col-sm-4">Account Number<span style="color:red;">*</span>
        <input type="text" name="accountNumber" id="accountNumber" value="@if(isset($table->accountNumber)){{$table->accountNumber}}@endif" class="form-control" data-parsley-trigger="keyup"  required data-parsley-required-message="Enter Account No" data-parsley-type="integer" type="number" />
      </div>


      <div class="col-sm-4">Bank Name<span style="color:red;">*</span>
        <input type="text" name="bankName" id="bankName" value="@if(isset($table->accountNumber)){{$table->bankName}}@endif" class="form-control"  data-parsley-trigger="keyup" required data-parsley-required-message="Enter Bank Name" data-parsley-pattern="/^[^-\s][a-zA-Z_ ]*$/"/>
      </div>

      <div class="col-sm-4">IFSC Code<span style="color:red;">*</span>
        <input type="text" name="ifsc" id="ifsc" value="@if(isset($table->accountNumber)){{$table->ifsc }}@endif" class="form-control"   required data-parsley-required-message="Enter IFSC Code" data-parsley-type="alphanum" maxlength="11" minlength="11"  data-parsley-trigger="keyup" data-parsley-pattern="/^[A-Za-z]{4}\d{7}$/" data-parsley-pattern-message="IFSC Code Format is wrong..! " placeholder="Ex: IFSC1234567" />
      </div>
    </div>
      <div class="col-sm-12">&nbsp;</div>

    <div class="row">
      <div class="col-sm-4">Branch Name<span style="color:red;">*</span>
        <input type="text" name="branchName" id="branchName" value="@if(isset($table->accountNumber)){{$table->branchName}}@endif" class="form-control"   data-parsley-trigger="keyup" required data-parsley-required-message="Enter Branch Name" data-parsley-pattern="/^[^-\s][a-zA-Z_ ]*$/"/>
      </div>

      <div class="col-sm-4">Account Holder Name<span style="color:red;">*</span>
        <input type="text" name="accountHolderName" id="accountHolderName" value="@if(isset($table->accountNumber)){{$table->accountHolderName}}@endif" class="form-control"     required data-parsley-required-message="Enter Account Holder Name" data-parsley-equalto="#fullname" data-parsley-trigger="keyup" data-parsley-equalto-message="Account Holder Name Mismatched with Member Name"/>
        <span class="accountHolderName text-danger" ></span>
      </div>
    </div>
      </div>
    </div> 
    <!--************************************          ************************************

                        TCN SUPPORTING DOCUMENTS 

    ********************************************************************************************-->
      <div class="panel panel-default">
        <div class="panel-heading font-bold">SUPPORTING DOCUMENTS</div>
        <div class="panel-body">
            <div class="row">
              <div class="col-sm-4">
                Doc 1<span style="color:red;">*</span>
                <input class="btn btn-success btn-fil" ui-jq="filestyle" ui-options="{icon: false, buttonName: 'btn m-b-xs w-xs btn-dark btn-rounded'}" type="file" name="doc1" id="doc1" required data-parsley-required-message="Select Document 1"  accept="image/png,image/jpeg"';  onchange="imageCheck(this)">
                (Upload passbook/cancelled cheque/bank statement.) 
                <span class="doc1 text-danger"></span> 
                @if ($errors->has('doc1'))
                          <span class="help-inline ">{{$errors->first('doc1')}}</span>
                        @endif
              </div>

              <div class="col-sm-4">
                Doc 2<span style="color:red;">*</span>
                <input class="btn btn-success btn-fil" ui-jq="filestyle" ui-options="{icon: false, buttonName: 'btn m-b-xs w-xs btn-dark btn-rounded'}" type="file" name="doc2" id="doc2" required data-parsley-required-message="Select Document 2" data-parsley-max-file-size="50" onchange="imageCheck(this)">
                (Upload Transfer statement proof.) 
                <span class="doc2 text-danger"></span> 
                @if ($errors->has('doc2'))
                          <span class="help-inline ">{{$errors->first('doc2')}}</span>
                        @endif
              </div>

              <div class="col-sm-4">
                Doc 3<span style="color:red;">*</span>
                <input class="btn btn-success btn-fil" ui-jq="filestyle" ui-options="{icon: false, buttonName: 'btn m-b-xs w-xs btn-dark btn-rounded'}" type="file" name="doc3" id="doc3" required data-parsley-required-message="Select Document 3" data-parsley-max-file-size="50"' onchange="imageCheck(this)">
                (Upload Transaction proof/cheque proof/online transfer screenshot.) 
                <span class="doc3 text-danger"></span> 
                @if ($errors->has('doc3'))
                          <span class="help-inline ">{{$errors->first('doc3')}}</span>
                        @endif
              </div>
            </div>
        </div>
      </div>
    <!--************************************          ************************************

                        TCN FIRST NOMINEE DETAILS 

    ********************************************************************************************-->
      <div class="panel panel-default">
        <div class="panel-heading font-bold">FIRST NOMINEE DETAILS</div>
        <div class="panel-body">
          <div class="row">
            <div class="col-sm-4">Nominee Name<span style="color:red;">*</span>
              <input type="text" name="name1" id="name1" value="" class="form-control"     required data-parsley-required-message="Enter Nominee Name"  data-parsley-trigger="keyup" data-parsley-pattern-message="Dont Enter Special Charecters or Numbers" data-parsley-pattern="/^[^-\s][a-zA-Z_ ]*$/"/>
            </div>

            <div class="col-sm-4">Relation&nbsp;With&nbsp;Applicant<span style="color:red;">*</span>
              <select class="form-control chosen-select" name="relationWithApplicant1" id="relationWithApplicant1"  required data-parsley-required-message="Select Relation With Applicant">
                <option value=" ">Select</option>
                @foreach ($listTypes['relation'] as $relation)
                <option value="{{$relation}}">{{$relation}}</option>
                @endforeach
              </select> 
            </div>

            <div class="col-sm-4">Email Id<span style="color:red;">*</span>
              <input type="email" name="email1" id="email1" value="" class="form-control"   data-parsley-trigger="keyup"  required data-parsley-required-message="Enter Valid Email Id"/>
            </div>
          </div>
          <div class="col-sm-12"><br></div>


          <div class="row">{{-- ^\+?[0-9]{10,16}$ mobile no with  --}}
            <div class="col-sm-4">Mobile Number<span style="color:red;">*</span>
              <input class="form-control" placeholder="Mobile No" required data-parsley-required-message="Please Enter Mobile Number" required data-parsley-pattern-message="Enter Valid Mobile Number with between 1 to 16 digits" data-parsley-pattern="^[0-9]{1,16}$" data-parsley-trigger="keyup" name="mobile1" id="mobile1"  type="text" value=""    >
            </div> 

            <div class="col-sm-4">D O B<span style="color:red;">*</span>
              <input class="form-control" type="text"  data-date-end-date="0d" id="dob1" name="dob1"  required data-parsley-required-message="Please Select Correct DOB" readonly />
              <span class="dob text-danger"></span>
            </div>

            <div class="col-sm-4">Gender<span style="color:red;">*</span>
              <select class="form-control chosen-select col-md-6" name="gender1" id="gender1" required data-parsley-required-message="Please Select Gender">
              <option value=" ">Select</option>
              <option value="Male">Male</option>
              <option value="Female">Female</option>
            </select>
            </div>
          </div>
         <div class="col-sm-12"><br></div>

          <div class="row">
            <div class="col-sm-4">Address<span style="color:red;">*</span>
              <textarea class="form-control" id="naddress1" name="naddress1"  data-parsley-trigger="keyup" rows="1" required data-parsley-required-message="Enter Correct Address" data-parsley-trigger="keyup" data-parsley-minlength="20"></textarea>
            </div>

            <div class="col-sm-4">City<span style="color:red;">*</span>
              <input type="text" name="city1" id="city1" class="form-control" value=""   required data-parsley-required-message="Enter City" />
            </div>

            <div class="col-sm-4">State<span style="color:red;">*</span>
              <input type="text" name="state1" id="state1" class="form-control" value=""  data-parsley-pattern="/^[^-\s][a-zA-Z_ ]*$/"   required data-parsley-required-message="Enter State"/>
            </div>

          </div>
         <div class="col-sm-12"><br></div>


          <div class="row">
            <div class="col-sm-4">Nominee Proof Type
              <select class="form-control  chosen-select col-md-6" name="typeOfProof1" id="typeOfProof1" >
                <option value=" ">Select</option>
                <option value="aadhar">Aadhar</option>
                <option value="license">License</option>
                <option value="pancard">Pancard</option>
                <option value="passport">Passport</option>
                <option value="VoterId">VoterId</option>

              </select>
            </div>
            <div class="col-sm-4">proof Number
              <input type="text" name="proofNumber1" id="proofNumber1" value="" class="form-control"  />
            </div>
            <div class="col-sm-4">Pin<span style="color:red;">*</span>
              <input class="form-control" placeholder="Pin" required data-parsley-required-message="Please Enter Pin Number" data-parsley-trigger="keyup" name="pin1" id="pin1" type="text" value=""  data-parsley-pattern="^[1-9][0-9]{3,5}$">
            </div>
            <div class="col-sm-12"><br></div>
          </div><div class="col-sm-12">&nbsp;</div>

            <div class="row">
              <div class="col-sm-4">Upload Photo<span style="color:red;">*</span><input class="btn btn-success btn-fil removeattr" ui-jq="filestyle" ui-options="{icon: false, buttonName: 'btn m-b-xs w-xs btn-dark btn-rounded'}" type="file" name="uploadPhoto1" id="uploadPhoto1" required data-parsley-required-message="Select Nominee Photo" onchange="imageCheck(this)">
                  <span class="uploadPhoto1 text-danger"></span> 
                  @if ($errors->has('uploadPhoto1'))
                            <span class="help-inline ">{{$errors->first('uploadPhoto1')}}</span>
                          @endif
              </div>

              <div class="col-sm-4">Signature<span style="color:red;">*</span><input class="btn btn-success btn-fil removeattr" ui-jq="filestyle" ui-options="{icon: false, buttonName: 'btn m-b-xs w-xs btn-dark btn-rounded'}" type="file" name="nsignature1" id="nsignature1" required data-parsley-required-message="Select Signature Fle" onchange="imageCheck(this)">
                  <span class="nsignature1 text-danger"></span> 
                  @if ($errors->has('nsignature1'))
                            <span class="help-inline ">{{$errors->first('nsignature1')}}</span>
                          @endif
              </div>


              <div class="col-sm-4">Proof Copy<span style="color:red;">*</span><input class="btn btn-success btn-fil removeattr" ui-jq="filestyle" ui-options="{icon: false, buttonName: 'btn m-b-xs w-xs btn-dark btn-rounded'}" type="file" name="proofCopy1" id="proofCopy1" required data-parsley-required-message="Select Nominee ProofCopy" onchange="imageCheck(this)">
                  <span class="proofCopy1 text-danger"></span> 
                  @if ($errors->has('proofCopy1'))
                            <span class="help-inline ">{{$errors->first('proofCopy1')}}</span>
                          @endif
              </div>
            </div>  <div class="col-sm-12">&nbsp;</div>
          </div>
      </div>

          <!--************************************          ************************************

                        TCN SECOND NOMINEE DETAILS 

    ********************************************************************************************-->
      <div class="panel panel-default">
        <div class="panel-heading font-bold">SECOND NOMINEE DETAILS</div>
        <div class="panel-body">
          <div class="row">
            <div class="col-sm-4">Nominee Name<span style="color:red;">*</span>
              <input type="text" name="name2" id="name2" value="" class="form-control"     required data-parsley-required-message="Enter Nominee Name"  data-parsley-trigger="keyup" data-parsley-pattern-message="Dont Enter Special Charecters or Numbers" data-parsley-pattern="/^[^-\s][a-zA-Z_ ]*$/"/>
            </div>

            <div class="col-sm-4">Relation&nbsp;With&nbsp;Applicant<span style="color:red;">*</span>
              <select class="form-control chosen-select" name="relationWithApplicant2" id="relationWithApplicant2"  required data-parsley-required-message="Select Relation With Applicant">
                <option value=" ">Select</option>
                @foreach ($listTypes['relation'] as $relation)
                <option value="{{$relation}}">{{$relation}}</option>
                @endforeach
              </select> 
            </div>

            <div class="col-sm-4">Email Id<span style="color:red;">*</span>
              <input type="email" name="email2" id="email2" value="" class="form-control"   data-parsley-trigger="keyup"  required data-parsley-required-message="Enter Valid Email Id"/>
            </div>
          </div>
          <div class="col-sm-12"><br></div>


          <div class="row">{{-- ^\+?[0-9]{10,16}$ mobile no with  --}}
            <div class="col-sm-4">Mobile Number<span style="color:red;">*</span>
              <input class="form-control" placeholder="Mobile No" required data-parsley-required-message="Please Enter Mobile Number" required data-parsley-pattern-message="Enter Valid Mobile Number with between 1 to 16 digits" data-parsley-pattern="^[0-9]{1,16}$" data-parsley-trigger="keyup" name="mobile2" id="mobile2"  type="text" value=""    >
            </div> 

            <div class="col-sm-4">D O B<span style="color:red;">*</span>
              <input class="form-control" type="text"  data-date-end-date="0d" id="dob2" name="dob2"  required data-parsley-required-message="Please Select Correct DOB" readonly />
              <span class="dob text-danger"></span>
            </div>

            <div class="col-sm-4">Gender<span style="color:red;">*</span>
              <select class="form-control col-md-6 chosen-select" name="gender2" id="gender2" required data-parsley-required-message="Please Select Gender">
              <option value=" ">Select</option>
              <option value="Male">Male</option>
              <option value="Female">Female</option>
            </select>
            </div>
          </div>
         <div class="col-sm-12"><br></div>

          <div class="row">
            <div class="col-sm-4">Address<span style="color:red;">*</span>
              <textarea class="form-control" id="naddress2" name="naddress2"  data-parsley-trigger="keyup" rows="1" required data-parsley-required-message="Enter Correct Address" data-parsley-trigger="keyup" data-parsley-minlength="20"></textarea>
            </div>

            <div class="col-sm-4">City<span style="color:red;">*</span>
              <input type="text" name="city2" id="city2" class="form-control" value=""   required data-parsley-required-message="Enter City" />
            </div>

            <div class="col-sm-4">State<span style="color:red;">*</span>
              <input type="text" name="state2" id="state2" class="form-control" value="" data-parsley-pattern="/^[^-\s][a-zA-Z_ ]*$/" required data-parsley-required-message="Enter State"/>
            </div>

          </div>
         <div class="col-sm-12"><br></div>


          <div class="row">
            <div class="col-sm-4">Nominee Proof Type
              <select class="form-control col-md-6 chosen-select" name="typeOfProof2" id="typeOfProof2" >
                <option value=" ">Select</option>
                <option value="aadhar">Aadhar</option>
                <option value="license">License</option>
                <option value="pancard">Pancard</option>
                <option value="passport">Passport</option>
                <option value="VoterId">VoterId</option>

              </select>
            </div>
            <div class="col-sm-4">proof Number
              <input type="text" name="proofNumber2" id="proofNumber2" value="" class="form-control"  />
            </div>
            <div class="col-sm-4">Pin<span style="color:red;">*</span>
              <input class="form-control" placeholder="Pin" required data-parsley-required-message="Please Enter Pin Number" data-parsley-trigger="keyup" name="pin2" id="pin2" type="text" value=""  data-parsley-pattern="^[1-9][0-9]{3,5}$">
            </div>
            <div class="col-sm-12"><br></div>
          </div><div class="col-sm-12">&nbsp;</div>

            <div class="row">
              <div class="col-sm-4">Upload Photo<span style="color:red;">*</span><input class="btn btn-success btn-fil removeattr" ui-jq="filestyle" ui-options="{icon: false, buttonName: 'btn m-b-xs w-xs btn-dark btn-rounded'}" type="file" name="uploadPhoto2" id="uploadPhoto2" required data-parsley-required-message="Select Nominee Photo" onchange="imageCheck(this)">
                  <span class="uploadPhoto2 text-danger"></span> 
                  @if ($errors->has('uploadPhoto2'))
                            <span class="help-inline ">{{$errors->first('uploadPhoto2')}}</span>
                          @endif
              </div>

              <div class="col-sm-4">Signature<span style="color:red;">*</span><input class="btn btn-success btn-fil removeattr" ui-jq="filestyle" ui-options="{icon: false, buttonName: 'btn m-b-xs w-xs btn-dark btn-rounded'}" type="file" name="nsignature2" id="nsignature2" required data-parsley-required-message="Select Signature Fle" onchange="imageCheck(this)">
                  <span class="nsignature2 text-danger"></span> 
                  @if ($errors->has('nsignature2'))
                            <span class="help-inline ">{{$errors->first('nsignature2')}}</span>
                          @endif
              </div>


              <div class="col-sm-4">Proof Copy<span style="color:red;">*</span><input class="btn btn-success btn-fil removeattr" ui-jq="filestyle" ui-options="{icon: false, buttonName: 'btn m-b-xs w-xs btn-dark btn-rounded'}" type="file" name="proofCopy2" id="proofCopy2" required data-parsley-required-message="Select Nominee ProofCopy" onchange="imageCheck(this)">
                  <span class="proofCopy2 text-danger"></span> 
                  @if ($errors->has('proofCopy2'))
                            <span class="help-inline ">{{$errors->first('proofCopy2')}}</span>
                          @endif
              </div>
            </div>  <div class="col-sm-12">&nbsp;</div>
          </div>
      </div>
    <!--************************************          ************************************

                        ALL  DECLARATION 

    ********************************************************************************************-->
        <div class="panel panel-default">
          <div class="panel-heading font-bold">DECLARATION</div>
          <div class="panel-body">
            <div class="form-horizontal">
              <div class="form-group">
                <div class="col-lg-12">
                  <p class="form-control-static">I HAVE READ THE TERMS AND CONDITIONS OF HG AND THE SAME HAVE BEEN WELL EXPLAINED TO ME BY THE HG AUTHORITIES. I AM ALSO AWARE THAT THE TERMS AND CONDITIONS OF HG ARE PRINTED OVERLEAF .I HERE BY AGREE TO ABIDE BY THEM I DECLARE THAT ALL ABOVE DETAILS PROVIDED BY ME ARE CORRECT TO THE BEST OF MY KNOWLDGE</p>
                </div>
              </div>
              <div class="line line-dashed b-b line-lg pull-in"></div>
              <div class="form-group">
                <label class="control-label" style="text-align: left;"></label>
                <div class="col-lg-10">
                  <div class="checkbox" style="padding-right: 10px;float: left;padding-top: 14px;margin: 0;">
                    <label class="i-checks">
                      <input type="checkbox" checked="" id="iagree" name="iagree" required data-parsley-required-message="Please agree terms and conditions"><i></i> 
                    </label>
                  </div>
                  <p class="form-control-static" style="float: left;">
                    <a>Terms &amp; Conditions</a><br>I AGREE TO FULFILL ALL THE REQUISITES MENTIONED IN THE TERMS AND CONDITIONS OF HG<br/>
                    @if ($errors->has('iagree'))
                    <span class="help-inline">{{$errors->first('iagree')}}</span>
                    @endif
                  </p>
                </div>
              </div>
              <div class="form-group">
                <div class="row">
                  <div class="col-lg-3"></div>
                  <div class="col-lg-6 text-center">
                    <b>Enter the reason here..  Why did you Transfer this TCN..?</b><br><br>
                    <textarea name="remarks" id="remarks" class="form-control" required data-parsley-required-message="Please Enter Transfer reason.." data-parsley-minlength="20"></textarea>
                  </div>
                </div>
              </div>
              <div class="line line-dashed b-b line-lg pull-in"></div>
              <div class="col-sm-12 text-center">
                <button type="submit" class="btn btn-primary" name="submit">Submit</button> 
                <button type="reset" class="btn btn-warning">Cancel</button>
              </div>
            </div>
          </div>
        </div>
  </form> 
</div>



@endsection

@section('jquery')
<script type="text/javascript">
  $('#dateofbirth').datepicker({ orientation:'bottom right',autoclose:true});
  $('#dob1').datepicker({ orientation:'top right',autoclose:true});
  $('#dob2').datepicker({ orientation:'top right',autoclose:true});


  $( "#depositeDate").datepicker({format:'dd-mm-yyyy',autoclose: true});


  $(".chosen-select").chosen({width:'100%'});
</script>




<script type="text/javascript">
  function address()
  {

  var value = document.getElementById("Address").checked==true;
  if(value==true)
  {
  $('#correspondance_addr').val($('#permanent_addr').val());
  $('#correspondance_city').val($('#permanent_city').val());
  $('#correspondance_state').val($('#permanent_state').val());
  $('#correspondance_pin').val($('#permanent_pin').val());
  $('#correspondance_country').val($('#permanent_country').val());
//   //$("#CorsAdrDiv *").addClass('parsley-success');
// $('#CorsAdrDiv').find(':input').removeClass('parsley-error');  
// $('#CorsAdrDiv').find(':input').not('#Address').addClass('parsley-success').removeAttr('required');
// $('#CorsAdrDiv').find('.parsley-errors-list').css('opacity','0');  
}
  else
  {
  $('#correspondance_addr').val("");
  $('#correspondance_city').val("");
  $('#correspondance_state').val("");
  $('#correspondance_pin').val("");
  $('#correspondance_country').val("");
//   $('#CorsAdrDiv').find(':input').not('#Address').removeClass('parsley-success').prop('required',true);
//   if($('#CorsAdrDiv').find('.parsley-errors-list filled'))
// $('#CorsAdrDiv').find('.parsley-errors-list').css('opacity','0');  
  }
//$('#CorsAdrDiv').find(':input').not('#Address').parsley();


// $('#CorsAdrDiv :input').not('#Address').each(function()
// {
//   if(this.value=='')
//   $( "#"+this.id+' ul.people li').css( 'background-color', 'red' );
// });

  }

function imageCheck(feild){

    var feildName  = feild.name;

    var FileName  = feild.value;

    var idxDot = FileName.lastIndexOf(".") + 1;
    var extFile = FileName.substr(idxDot, FileName.length).toLowerCase();

    var FileExt = FileName.substr(FileName.lastIndexOf('.')+1);
    var FileSize = feild.files[0].size;

     $("."+feildName).html(""); 

    if(FileSize>204800)
  {
    $("."+feildName).html("Upload File size allowed is 200 Kb.");
    document.getElementById(feildName).value="";
    return;
  }
    else if(extFile!="jpg" && extFile!="jpeg" && extFile!="png")
    {
    $("."+feildName).html("Only jpg/jpeg and png  files are allowed!");
    document.getElementById(feildName).value='';
     return;
    }
    else
    {
    $("."+feildName).html("");
    }   
}


  function countryId()
  {

    var countryName=$('#country').val();
  $.ajax(
  {
  type: "get",
  url: "{{URL::to('/') }}/admin/countryId",
  data:{countryName:countryName},
  success: function (data) 
  {
  $(".conId").html("+"+data);
  $(".conId1").val("+"+data);
  }
  });
  }

  countryId();


</script>
@if (Session::has('sweet_alert.alert'))
    <script>
        swal({
            text: "{!! Session::get('sweet_alert.text') !!}",
            title: "{!! Session::get('sweet_alert.title') !!}",
            timer: 4000,
            type: "{!! Session::get('sweet_alert.type') !!}",
            // showConfirmButton: "!! Session::get('sweet_alert.showConfirmButton') !!}",
            // confirmButtonText: "!! Session::get('sweet_alert.confirmButtonText') !!}",
            // confirmButtonColor: "#AEDEF4",
            // showCancelButton: false,
            // closeOnConfirm: true
            @php 
            Session::Forget('sweet_alert'); @endphp
            // more options
        });
    </script>
@endif
@endsection
